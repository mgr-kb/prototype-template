# 経費精算システム要件定義書

## 概要

経費精算の入力フォームを開発する。ユーザーが経費項目を入力してフォーム送信を行い、送信完了時には完了画面を表示する。

## 機能要件

### 基本仕様

- ユーザーは経費精算フォームのページにアクセスする
- 経費精算のフォームの行は動的に追加/削除が可能
- 入力行は1行以上、10行以下の制限がある
- フォーム送信が完了すると、完了画面を表示する

### フォーム構成

#### 初期表示

- 1行で表示（削除ボタンは表示されない）

#### 行の追加・削除

- **追加ボタン**：最後の行にのみ表示
- **削除ボタン**：2行目以降の行にのみ表示
- 10行に達した場合、追加ボタンは非表示になる
- 1行より少なくすることはできない

### 入力項目

各行には以下の項目を配置する（全て必須入力）：

| 項目名           | 入力形式                   | バリデーション                     |
| ---------------- | -------------------------- | ---------------------------------- |
| 費目             | 文字列入力                 | 1文字以上、20文字以内              |
| 金額             | 数値入力                   | 1以上、1,000,000以下の数値のみ許可 |
| 利用日付         | カレンダーピッカー         | 過去365日以内、未来日禁止          |
| 領収書の存在有無 | トグル（チェックボックス） | -                                  |

### バリデーション仕様

#### バリデーションタイミング

- 入力項目からフォーカスが外れた場合（onBlur）に実行

#### バリデーション表示

- エラーがある場合：入力欄の下に赤枠・赤文字で表示
- エラーメッセージはユーザーに分かりやすい内容で表示
  - 例：「費目は20文字以内で入力してください」「金額は必須入力です」

#### 日付バリデーション詳細

- 過去365日以内：今日から数えて365日前まで
- カレンダーピッカーで選択不可能な日付はグレーアウト表示（可能であれば）

### フォーム送信

#### 送信ボタンの活性化条件

- 全ての行で全ての項目が正しく入力されている場合のみ活性化
- 行を追加した直後（未入力状態）は非活性状態を維持

#### 送信処理

- **成功時**：フォーム完了画面に遷移
- **エラー時**：フォーム全体のエリアの上にエラー内容を表示

### 画面遷移

#### 完了画面

- 内容：「完了しました」を表示

#### ブラウザバック制御

- フォーム送信後の完了画面からのブラウザバック時：確認ダイアログを表示

## 非機能要件

### UI/UX

- 金額の表示形式：特別な考慮は不要（カンマ区切り等なし）
- レスポンシブ対応：実施する。768pxをブレークポイントとする。

## 制約事項

- 最小行数：1行
- 最大行数：10行
- 各項目は全て必須入力
- 利用日付は過去365日以内のみ選択可能
